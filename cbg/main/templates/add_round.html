{% extends "base.html" %}

{% block page_content %}

<div class="container">
    <h1 class="text-center my-4">Enter Golfer's 9-Hole Round</h1>
    <form method="post" class="col-md-8 offset-md-2">
        {% csrf_token %}

        <div class="form-group mb-3">
            <label for="{{ form.matchup.id_for_label }}" class="form-label">Matchup Selection</label>
            <select name="{{ form.matchup.name }}" id="{{ form.matchup.id_for_label }}" class="form-control">
                {% for choice in form.matchup.field.choices %}
                    <option value="{{ choice.0 }}">{{ choice.1 }}</option>
                {% endfor %}
            </select>
        </div>    

    <br>

    <div class="container">
        <div class="table-responsive">
            <table class="scorecard" style="undefined;table-layout: fixed; width: 568px">
            <colgroup>
                <col style="width: 139px">
                <col style="width: 32px">
                <col style="width: 35px">
                <col style="width: 35px">
                <col style="width: 33px">
                <col style="width: 35px">
                <col style="width: 35px">
                <col style="width: 35px">
                <col style="width: 35px">
                <col style="width: 35px">
                <col style="width: 35px">
                <col style="width: 43px">
                <col style="width: 41px">
            </colgroup>
            <tr class="data">
                <th class="descriptor" colspan="2">X</th>
                <th class="descriptor" colspan="9">X</th>
                <th class="descriptor" colspan="2">X</th>
            </tr>
            <tr class="scores">
                <td class="descriptor" id="golfer1"></td>
                <td class="hcp">12</td>
        
                <td class="score"><input type="number" id="hole1_1" name="hole1_1"></input></td>
                <td class="score"><input type="number" id="hole2_1" name="hole2_1"></input></td>
                <td class="score"><input type="number" id="hole3_1" name="hole3_1"></input></td>
                <td class="score"><input type="number" id="hole4_1" name="hole4_1"></input></td>
                <td class="score"><input type="number" id="hole5_1" name="hole5_1"></input></td>
                <td class="score"><input type="number" id="hole6_1" name="hole6_1"></input></td>
                <td class="score"><input type="number" id="hole7_1" name="hole7_1"></input></td>
                <td class="score"><input type="number" id="hole8_1" name="hole8_1"></input></td>
                <td class="score"><input type="number" id="hole9_1" name="hole9_1"></input></td>
        
                <td class="score" style="background-color:#97A2A2">12</td>
                <td class="total" style="background-color:#97A2A2">12</td>
            </tr>
            <tr class="scores">
                <td class="descriptor" id="golfer2"></td>
                <td class="hcp">12</td>
        
                <td class="score"><input type="number" id="hole1_2" name="hole1_2"></input></td>
                <td class="score"><input type="number" id="hole2_2" name="hole2_2"></input></td>
                <td class="score"><input type="number" id="hole3_2" name="hole3_2"></input></td>
                <td class="score"><input type="number" id="hole4_2" name="hole4_2"></input></td>
                <td class="score"><input type="number" id="hole5_2" name="hole5_2"></input></td>
                <td class="score"><input type="number" id="hole6_2" name="hole6_2"></input></td>
                <td class="score"><input type="number" id="hole7_2" name="hole7_2"></input></td>
                <td class="score"><input type="number" id="hole8_2" name="hole8_2"></input></td>
                <td class="score"><input type="number" id="hole9_2" name="hole9_2"></input></td>
        
                <td class="score" style="background-color:#97A2A2">12</td>
                <td class="total" style="background-color:#97A2A2">12</td>
            </tr>
            <tr class="data">
                <td class="hole-data left-align" colspan="2">HOLE</td>
                <td class="hole-data center-align">1</td>
                <td class="hole-data center-align">2</td>
                <td class="hole-data center-align">3</td>
                <td class="hole-data center-align">4</td>
                <td class="hole-data center-align">5</td>
                <td class="hole-data center-align">6</td>
                <td class="hole-data center-align">7</td>
                <td class="hole-data center-align">8</td>
                <td class="hole-data center-align">9</td>
                <td class="hole-data center-align" rowspan="2">IN</td>
                <td class="score"></td>
            </tr>
            <tr class="data">
                <td class="hole-data left-align" colspan="2">HANDICAP</td>
                <td class="hole-data center-align">1</td>
                <td class="hole-data center-align">2</td>
                <td class="hole-data center-align">3</td>
                <td class="hole-data center-align">4</td>
                <td class="hole-data center-align">5</td>
                <td class="hole-data center-align">6</td>
                <td class="hole-data center-align">7</td>
                <td class="hole-data center-align">8</td>
                <td class="hole-data center-align">9</td>
                <td class="score"></td>
            </tr>
            <tr class="data">
                <td class="hole-data left-align" colspan="2">YARDS</td>
                <td class="hole-data center-align">122</td>
                <td class="hole-data center-align">122</td>
                <td class="hole-data center-align">122</td>
                <td class="hole-data center-align">122</td>
                <td class="hole-data center-align">122</td>
                <td class="hole-data center-align">122</td>
                <td class="hole-data center-align">122</td>
                <td class="hole-data center-align">122</td>
                <td class="hole-data center-align">122</td>
                <td class="hole-data center-align">1234</td>
                <td class="score"></td>
            </tr>
            <tr class="data">
                <td class="hole-data left-align" colspan="2">PAR</td>
                <td class="hole-data center-align">1</td>
                <td class="hole-data center-align">2</td>
                <td class="hole-data center-align">3</td>
                <td class="hole-data center-align">4</td>
                <td class="hole-data center-align">5</td>
                <td class="hole-data center-align">6</td>
                <td class="hole-data center-align">7</td>
                <td class="hole-data center-align">8</td>
                <td class="hole-data center-align">9</td>
                <td class="hole-data center-align">36</td>
                <td class="score"></td>
            </tr>
            <tr class="scores">
                <td class="descriptor" id="golfer3"></td>
                <td class="hcp">12</td>
        
                <td class="score"><input type="number" id="hole1_3" name="hole1_3"></input></td>
                <td class="score"><input type="number" id="hole2_3" name="hole2_3"></input></td>
                <td class="score"><input type="number" id="hole3_3" name="hole3_3"></input></td>
                <td class="score"><input type="number" id="hole4_3" name="hole4_3"></input></td>
                <td class="score"><input type="number" id="hole5_3" name="hole5_3"></input></td>
                <td class="score"><input type="number" id="hole6_3" name="hole6_3"></input></td>
                <td class="score"><input type="number" id="hole7_3" name="hole7_3"></input></td>
                <td class="score"><input type="number" id="hole8_3" name="hole8_3"></input></td>
                <td class="score"><input type="number" id="hole9_3" name="hole9_3"></input></td>
        
                <td class="score" style="background-color:#97A2A2">12</td>
                <td class="total" style="background-color:#97A2A2">12</td>
            </tr>
            <tr class="scores">
                <td class="descriptor" id="golfer4"></td>
                <td class="hcp">12</td>
        
                <td class="score"><input type="number" id="hole1_4" name="hole1_4"></input></td>
                <td class="score"><input type="number" id="hole2_4" name="hole2_4"></input></td>
                <td class="score"><input type="number" id="hole3_4" name="hole3_4"></input></td>
                <td class="score"><input type="number" id="hole4_4" name="hole4_4"></input></td>
                <td class="score"><input type="number" id="hole5_4" name="hole5_4"></input></td>
                <td class="score"><input type="number" id="hole6_4" name="hole6_4"></input></td>
                <td class="score"><input type="number" id="hole7_4" name="hole7_4"></input></td>
                <td class="score"><input type="number" id="hole8_4" name="hole8_4"></input></td>
                <td class="score"><input type="number" id="hole9_4" name="hole9_4"></input></td>
        
                <td class="score" style="background-color:#97A2A2">12</td>
                <td class="total" style="background-color:#97A2A2">12</td>
            </tr>
            
            </table>
        </div>
    </div>
        
    <button type="submit" class="btn btn-primary float-end">Submit Scores</button>
</form>

</div>

{% block extra_js %}
<script> 
    document.addEventListener("DOMContentLoaded", function() {
        const matchupSelect = document.getElementById('id_matchup'); 
        const golfer1 = document.getElementById('golfer1');
        const golfer2 = document.getElementById('golfer2');
        const golfer3 = document.getElementById('golfer3');
        const golfer4 = document.getElementById('golfer4');

        const golferData = JSON.parse('{{ golfer_data_json | safe }}');
        
        matchupSelect.addEventListener('change', function() {
            const selectedIndex = this.value;
            // Fetch golfer names from your 'golfer_data' structure
            const golfers = golferData[selectedIndex];  // Assuming first element is golfer names

            golfer1.innerHTML = golfers[0][0]
            golfer2.innerHTML = golfers[1][0]
            golfer3.innerHTML = golfers[2][0]
            golfer4.innerHTML = golfers[3][0]
        });
    });
</script>
{% endblock %}
{% endblock %}